!function(a){a.fn.toggles=function(b){b=b||{};var c=a.extend({dragable:!0,clickable:!0,ontext:"Вкл",offtext:"Выкл",on:!0,animtime:300},b),d="margin-left "+c.animtime/1e3+"s ease-in-out",e={"-webkit-transition":d,"-moz-transition":d,transition:d},f={"-webkit-transition":"","-moz-transition":"",transition:""},g=function(b,d,g){var h=b.find(".inner");h.css(e);var i=b.toggleClass("active").hasClass("active");h.css({marginLeft:i?0:-d+g}),c.checkbox&&a(c.checkbox).attr("checked",i),setTimeout(function(){h.css({marginLeft:i?0:-d+g}),h.css(f)},c.animtime)};return this.each(function(){var d=a(this);c.click=b.click||d;var e=d.height(),f=d.width();0!==e&&0!==f||(d.height(e=20),d.width(f=50));var h=a('<div class="slide" />'),i=a('<div class="inner" />'),j=a('<div class="on" />'),k=a('<div class="off" />'),l=a('<div class="blob" />');j.css({height:e,width:f-e/2,textAlign:"center",textIndent:-e/2,lineHeight:e+"px"}).text(c.ontext),k.css({height:e,width:f-e/2,marginLeft:-e/2,textAlign:"center",textIndent:e/2,lineHeight:e+"px"}).text(c.offtext),l.css({height:e,width:e,marginLeft:-e/2}),i.css({width:2*f-e,marginLeft:c.on?0:-f+e}),c.on&&(h.addClass("active"),c.checkbox&&a(c.checkbox).attr("checked",!0)),d.html(""),d.append(h.append(i.append(j,l,k)));d.on("toggle",function(){g(h,f,e)}),c.clickable&&c.click.click(function(a){a.target==l[0]&&c.dragable||d.trigger("toggle")})})}}(jQuery);